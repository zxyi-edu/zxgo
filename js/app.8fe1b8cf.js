(function(t){function e(e){for(var s,c,o=e[0],r=e[1],u=e[2],d=0,f=[];d<o.length;d++)c=o[d],Object.prototype.hasOwnProperty.call(n,c)&&n[c]&&f.push(n[c][0]),n[c]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s]);l&&l(e);while(f.length)f.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,o=1;o<a.length;o++){var r=a[o];0!==n[r]&&(s=!1)}s&&(i.splice(e--,1),t=c(c.s=a[0]))}return t}var s={},n={app:0},i=[];function c(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=t,c.c=s,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)c.d(a,s,function(e){return t[e]}.bind(null,s));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],r=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=r;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0727":function(t,e,a){},1413:function(t,e,a){"use strict";var s=a("b19e"),n=a.n(s);n.a},"275d":function(t,e,a){"use strict";var s=a("0727"),n=a.n(s);n.a},"27f3":function(t,e,a){"use strict";var s=a("c90c"),n=a.n(s);n.a},"2b9d":function(t,e,a){"use strict";var s=a("b51c"),n=a.n(s);n.a},"50c3":function(t,e,a){"use strict";var s=a("849a"),n=a.n(s);n.a},5278:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("537a");var s=a("ac28"),n=(a("a52c"),a("2ed4")),i=(a("c3a6"),a("ad06")),c=(a("7844"),a("5596")),o=(a("4b0a"),a("2bb1")),r=(a("e7e5"),a("d399")),u=(a("9cb7"),a("66fd")),l=(a("93ac"),a("bb33")),d=(a("591c"),a("7713")),f=(a("ef6f"),a("82a8")),p=(a("e415"),a("2b5e")),m=(a("3c32"),a("417e")),h=(a("f06a"),a("20fb")),v=(a("2b28"),a("9ed2")),g=(a("be39"),a("efa0")),_=(a("4467"),a("c36e")),b=(a("66b9"),a("b650")),C=(a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("2b0e")),k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("transition",{attrs:{name:t.transitionName}},[a("router-view",{staticClass:"router-view"})],1)],1)},y=[],w=a("fe3c"),x=a.n(w),I=(a("d3b7"),a("ac1f"),a("5319"),a("bc3a")),$=a.n(I),L=a("4328"),j=a.n(L),O=a("8c4f"),T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("header",{class:["home-header",{active:t.flage}]},[a("i",{staticClass:"iconfont icon-caidan"}),t._m(0),t.isLogin?a("router-link",{staticClass:"iconfont icon-iconyonghu",attrs:{tag:"i",to:"/user"}}):a("router-link",{attrs:{tag:"span",to:"/login"}},[t._v(" 登陆 ")])],1),a("van-swipe",{attrs:{autoplay:3e3,"indicator-color":"white"}},t._l(t.sliders,(function(t,e){return a("van-swipe-item",{key:e},[a("img",{attrs:{src:t.imgUrl,alt:""}})])})),1),a("section",{staticClass:"category-list"},t._l(t.categoryList,(function(e,s){return a("div",{key:s,on:{click:function(a){return t.goProductList(e)}}},[a("img",{attrs:{src:e.imgUrl}}),a("span",[t._v(t._s(e.name))])])})),0),a("section",{staticClass:"floor-list"},t._l(t.floorList,(function(e,s){return a("div",{key:s,staticClass:"floor-wrap"},[a("img",{staticClass:"floor-head",attrs:{src:e.headUrl}}),a("div",{staticClass:"floor-content"},t._l(e.list,(function(e,s){return a("div",{key:s,staticClass:"floor-category"},[a("p",[t._v(t._s(e.title))]),a("p",[t._v(t._s(e.desc))]),a("div",{staticClass:"floor-products"},t._l(e.products,(function(t,e){return a("img",{key:e,attrs:{src:t.imgUrl,alt:""}})})),0)])})),0)])})),0),a("tab-bar")],1)},S=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header-search"},[a("span",{staticClass:"app-name"},[t._v("G")]),a("i",{staticClass:"iconfont icon-search"}),a("span",{staticClass:"search-title"},[t._v("家电返场同价11.11")])])}],z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("van-tabbar",{attrs:{"active-color":"#f00","inactive-color":"#666",route:!0},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[a("van-tabbar-item",{attrs:{icon:"wap-home-o",to:"/home"}},[t._v("首页")]),a("van-tabbar-item",{attrs:{icon:"point-gift-o",to:"/category"}},[t._v("分类")]),a("van-tabbar-item",{attrs:{icon:"shopping-cart-o",to:"/shopcar",info:t.$store.getters.getCounts}},[t._v("购物车")]),a("van-tabbar-item",{attrs:{icon:"user-o",to:"/user"}},[t._v("我的")])],1)],1)},E=[],P={data:function(){return{active:0}}},N=P,B=a("2877"),D=Object(B["a"])(N,z,E,!1,null,"07cec8f3",null),U=D.exports,M={components:{tabBar:U},data:function(){return{active:0,flage:!1,sliders:[],categoryList:[],floorList:[]}},computed:{isLogin:function(){var t=this.$store.state.userInfo;return t}},methods:{goProductList:function(t){this.$router.push("/product-list/"+t.categoryId)},pageScroll:function(){window.pageYOffset>100?this.flage=!0:this.flage=!1},getSliders:function(){var t=this;te().then((function(e){t.sliders=e}))},getCategory:function(){var t=this;ee().then((function(e){t.categoryList=e}))},getFloorList:function(){var t=this;ae().then((function(e){t.floorList=e}))}},created:function(){this.getSliders(),this.getCategory(),this.getFloorList()},mounted:function(){window.addEventListener("scroll",this.pageScroll)}},A=M,G=(a("27f3"),Object(B["a"])(A,T,S,!1,null,"5ddd96e8",null)),H=G.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("header",{staticClass:"category-header"},[a("i",{staticClass:"iconfont icon-left",on:{click:t.goBack}}),t._m(0),a("i",{staticClass:"iconfont icon-More"})]),a("div",{staticClass:"category-wrap"},[a("div",{ref:"slideWrap",staticClass:"nav-slide-wrapper"},[a("ul",{staticClass:"nav-slide"},t._l(t.categoryList,(function(e,s){return a("li",{key:s,class:{active:t.index===s},on:{click:function(e){return t.selectMenu(s)}}},[t._v(t._s(e.name))])})),0)]),a("div",{ref:"conWrap",staticClass:"content-wrapper"},t._l(t.categorys,(function(e,s){return a("div",{key:s,staticClass:"content-slide"},[e.mainImgUrl?a("img",{staticClass:"category-main-img",attrs:{src:e.mainImgUrl,alt:""}}):t._e(),t._l(e.list,(function(e,s){return a("div",{key:s,staticClass:"category-list"},[a("p",{staticClass:"catogory-title"},[t._v(t._s(e.title))]),t._l(e.productList,(function(e,s){return a("div",{key:s,staticClass:"product-item"},[a("img",{staticClass:"product-img",attrs:{src:e.imgUrl}}),a("p",{staticClass:"product-title"},[t._v(t._s(e.title))])])}))],2)}))],2)})),0)]),a("tab-bar")],1)},q=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header-search"},[a("i",{staticClass:"iconfont icon-search"}),a("span",{staticClass:"search-title"},[t._v("家电返场同价11.11")])])}],F=a("229e"),J={components:{tabBar:U},data:function(){return{active:1,categoryList:[],index:0}},created:function(){this.getcategoryList()},mounted:function(){},updated:function(){this.setWrapperHeight();var t=document.querySelector(".nav-slide-wrapper"),e=(new F["a"](t),document.querySelector(".content-wrapper"));new F["a"](e)},computed:{categorys:function(){return this.categoryList.length>0?[this.categoryList[this.index]]:[]}},methods:{goBack:function(){this.$router.go(-1)},selectMenu:function(t){this.index=t},getcategoryList:function(){var t=this;ie().then((function(e){t.categoryList=e}))},setWrapperHeight:function(){var t=window.screen.height-100;this.$refs.slideWrap.style.height=t+"px",this.$refs.conWrap.style.height=t+"px"}}},Q=J,R=(a("1413"),Object(B["a"])(Q,W,q,!1,null,"030fe046",null)),X=R.exports,Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("z-header",{attrs:{showMore:!0}},[t._v("购物车")]),a("section",{staticClass:"shopcart-page"},[a("div",{staticClass:"shopcart-list"},t._l(this.$store.state.cartList,(function(t,e){return a("shopcart-box",{key:t.id,attrs:{cart:t,currentIndex:e}})})),1),a("van-divider",[t._v("可能你还想要")]),a("recommend",{staticClass:"recommend"})],1),a("van-submit-bar",{attrs:{price:100*t.$store.getters.getPrices,"button-text":"提交订单"},on:{submit:t.onSubmit}},[a("van-checkbox",{on:{click:t.clickChecked},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("全选")])],1),a("tab-bar")],1)},Z=[],K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",[a("i",{staticClass:"iconfont icon-left",on:{click:t.goBack}}),a("span",[t._t("default")],2),t.showMore?a("i",{staticClass:"iconfont icon-More"}):t._e()])},V=[],tt={props:{showMore:{type:Boolean,default:!1}},methods:{goBack:function(){this.$router.go(-1)}}},et=tt,at=(a("2b9d"),Object(B["a"])(et,K,V,!1,null,"19fde0a1",null)),st=at.exports,nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("van-swipe-cell",{attrs:{"right-width":50,beforeClose:t.beforeClose}},[a("div",{staticClass:"box-container",on:{click:function(e){return t.clickCellGood(e)}}},[a("van-checkbox",{attrs:{"checked-color":"#f00"},on:{change:t.changeChecked},model:{value:t.$store.getters.getCartList[t.currentIndex].checked,callback:function(e){t.$set(t.$store.getters.getCartList[t.currentIndex],"checked",e)},expression:"$store.getters.getCartList[currentIndex].checked"}}),a("img",{attrs:{src:t.cart.imageHost+t.cart.mainImage,alt:""}}),a("div",{staticClass:"content"},[a("p",{staticClass:"title"},[t._v(t._s(t.cart.name))]),a("p",{staticClass:"subtitle"},[t._v(t._s(t.cart.subtitle))]),a("div",{staticClass:"shopcart-stepper"},[a("span",{staticClass:"shopcart-price"},[t._v("￥ "+t._s(t.cart.price))]),a("van-stepper",{attrs:{"disable-minus":t.isDisable,"disable-plus":t.isDisable},on:{plus:t.plus,minus:t.minus},model:{value:t.cart.count,callback:function(e){t.$set(t.cart,"count",e)},expression:"cart.count"}})],1)])],1),a("template",{slot:"right"},[a("van-button",{attrs:{square:"",type:"danger",text:"删除"}})],1)],2)},it=[],ct=(a("a9e3"),a("e17f"),a("2241")),ot={props:{cart:{type:Object,required:!0},currentIndex:{type:Number,default:0}},data:function(){return{checked:this.$store.getters.getCartList[this.currentIndex].checked,isDisable:!1}},created:function(){},methods:{plus:function(){var t={productId:this.cart.productId,count:this.cart.count+1};this.goodsNumber(t)},minus:function(){var t={productId:this.cart.productId,count:this.cart.count-1};this.goodsNumber(t)},goodsNumber:function(t){var e=this,a={id:this.cart.id};this.isDisable=!0,de(a).then((function(a){"0"==a.status?fe(t).then((function(t){e.isDisable=!1})):(e.$toast("数据异常请刷新"),e.isDisable=!1)}))},clickCellGood:function(t){if("van-stepper__plus"==t.target.className||"van-stepper__minus"==t.target.className||"van-stepper__minus van-stepper__minus--disabled"==t.target.className)return!1;this.$router.push("/product-detail/"+this.cart.productId)},beforeClose:function(t){var e=t.position,a=t.instance;switch(e){case"cell":case"outside":a.close();break;case"right":ct["a"].confirm({message:"确定删除吗？",beforeClose:this.dialogClose}).then((function(){a.close()})).catch((function(){}));break}},dialogClose:function(t,e){var a=this;if("confirm"==t){var s={id:this.cart.id};de(s).then((function(t){"0"==t.status&&a.$store.commit("deleteGood",a.cart.id),a.$toast(t.msg),e()}))}else e()},changeChecked:function(){this.checked=this.$store.getters.getCartList[this.currentIndex].checked,this.cart.checked=this.checked}}},rt=ot,ut=(a("5fe1"),Object(B["a"])(rt,nt,it,!1,null,"84b56948",null)),lt=ut.exports,dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"recommend-list"},t._l(t.commendList,(function(e){return a("div",{key:e.id,staticClass:"recommend-item",on:{click:function(a){return t.clickCellGood(e.id)}}},[a("img",{attrs:{src:e.imageHost+e.mainImage}}),a("p",[t._v(t._s(e.name))]),a("i",[t._v("￥ "+t._s(e.price))])])})),0)},ft=[],pt={data:function(){return{commendList:[]}},created:function(){this.getCommendList()},methods:{clickCellGood:function(t){this.$router.push("/product-detail/"+t)},getCommendList:function(){var t=this;le().then((function(e){t.commendList=e}))}}},mt=pt,ht=(a("bf6e"),Object(B["a"])(mt,dt,ft,!1,null,"1cc104ae",null)),vt=ht.exports,gt={components:{tabBar:U,zHeader:st,shopcartBox:lt,recommend:vt},data:function(){return{checked:!1}},created:function(){this.$store.dispatch("getCartList")},updated:function(){this.checked=this.$store.getters.getAllChecked},methods:{clickChecked:function(){this.checked=!this.checked,this.$store.commit("updateGoods",this.checked)},onSubmit:function(){console.log("点击了提交")}}},_t=gt,bt=(a("7c00"),Object(B["a"])(_t,Y,Z,!1,null,"1de15fe6",null)),Ct=bt.exports,kt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user-box"},[s("z-header",{attrs:{showMore:!0}},[t._v("我的知心Go")]),s("section",{staticClass:"user-page"},[s("div",{staticClass:"user-info"},[s("div",{staticClass:"info"},[s("img",{attrs:{src:a("c121")}}),s("div",[s("p",[t._v(t._s(null==t.$store.state.userInfo?"":t.$store.state.userInfo.username))]),s("span",{staticClass:"name"},[t._v("用户名："+t._s(null==t.$store.state.userInfo?"":t.$store.state.userInfo.username))]),s("span",[t._v(t._s(null==t.$store.state.userInfo?"":t.$store.state.userInfo.phone))])]),s("router-link",{staticClass:"account-management",attrs:{to:"/profile"}},[s("i",{staticClass:"iconfont icon-shezhi"}),t._v("账号管理 ")])],1)]),t._m(0),s("div",[t._m(1),s("p",{staticClass:"recommend-title"},[t._v("为你推荐")]),s("recommend")],1)]),s("tab-bar")],1)},yt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user-menu"},[a("div",{staticClass:"menu-item"},[a("i",{staticClass:"iconfont icon-daifukuan1"}),a("span",[t._v("待付款")])]),a("div",{staticClass:"menu-item"},[a("i",{staticClass:"iconfont icon-daishouhuo1"}),a("span",[t._v("待收货")])]),a("div",{staticClass:"menu-item"},[a("i",{staticClass:"iconfont icon-money"}),a("span",[t._v("已完成")])]),a("div",{staticClass:"menu-item"},[a("i",{staticClass:"iconfont icon-icon1"}),a("span",[t._v("全部订单")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user-fork"},[a("div",{staticClass:"fork-item"},[a("i",[t._v("20")]),a("span",[t._v("关注的商品")])]),a("div",{staticClass:"fork-item"},[a("i",[t._v("5")]),a("span",[t._v("关注的店铺")])]),a("div",{staticClass:"fork-item"},[a("i",[t._v("10")]),a("span",[t._v("我的足迹")])])])}],wt={components:{tabBar:U,zHeader:st,recommend:vt},data:function(){return{active:3}}},xt=wt,It=(a("cb6c"),Object(B["a"])(xt,kt,yt,!1,null,"47c9d18e",null)),$t=It.exports,Lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"product-list-header"},[a("header",{staticClass:"category-header wrap"},[a("i",{staticClass:"iconfont icon-left",on:{click:t.backHome}}),a("div",{staticClass:"header-search"},[a("i",{staticClass:"iconfont icon-search"}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"search-title",attrs:{type:"text"},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}})]),a("i",{staticClass:"iconfont icon-More"})]),a("section",{staticClass:"select-menu"},[a("div",{class:["select-item",{"item-color":"default"==t.active}],attrs:{orderby:"default"},on:{click:t.onOrderByPrice}},[t._v("默认排序")]),a("div",{class:["select-item",{"item-color":"price_asc"==t.active}],attrs:{orderby:"price_asc"},on:{click:t.onOrderByPrice}},[t._v(" 升序 "),a("i",{staticClass:"iconfont icon-up1"})]),a("div",{class:["select-item",{"item-color":"price_desc"==t.active}],attrs:{orderby:"price_desc"},on:{click:t.onOrderByPrice}},[t._v(" 降序 "),a("i",{staticClass:"iconfont icon-down1"})]),t._m(0)])]),a("section",{staticClass:"product-list"},[a("div",{staticClass:"product-container"},t._l(t.list,(function(e){return a("van-card",{key:e.id,attrs:{num:e.stock,price:e.price,desc:e.subtitle,title:e.name,thumb:e.imageHost+e.mainImage,"origin-price":e.originalPrice},on:{click:function(a){return t.goProductDetail(e)}}})})),1)])])},jt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"select-item"},[t._v(" 筛选 "),a("i",{staticClass:"iconfont icon-shaixuan"})])}],Ot=(a("4de4"),a("c975"),a("b0c0"),{data:function(){return{active:"default",categoryId:this.$route.params.categoryId,pageNum:1,pageSize:20,list:[],tempList:[],value:""}},methods:{goProductDetail:function(t){this.$router.push("/product-detail/"+t.id)},getPorductList:function(){var t=this,e={categoryId:this.categoryId,orderBy:this.active,pageNum:this.pageNum,pageSize:this.pageSize};se(e).then((function(e){t.list=e.list,t.tempList=e.list}))},backHome:function(){this.$router.go(-1)},onOrderByPrice:function(t){var e=t.target.getAttribute("orderby");this.active=e,this.getPorductList()}},created:function(){this.getPorductList()},watch:{value:function(t){var e=this.tempList.filter((function(e){return-1!=e.name.indexOf(t)?e:-1!=e.subtitle.indexOf(t)?e:e.price==t?e:void 0}));this.list=e}}}),Tt=Ot,St=(a("275d"),Object(B["a"])(Tt,Lt,jt,!1,null,"509bc15c",null)),zt=St.exports,Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"product-detail"},[a("header",{staticClass:"detail-nav"},[a("i",{staticClass:"iconfont icon-left",on:{click:t.backPage}}),a("div",{staticClass:"nav-list"},[a("span",{class:0==t.navIndex?"active":"",on:{click:function(e){return t.selectItem(0)}}},[0==t.navIndex?a("i",{staticClass:"iconfont icon-location"}):t._e(),t._v("商品 ")]),a("span",{class:1==t.navIndex?"active":"",on:{click:function(e){return t.selectItem(1)}}},[1==t.navIndex?a("i",{staticClass:"iconfont icon-location"}):t._e(),t._v("商品详情 ")]),a("span",{class:[{active:2==t.navIndex}],on:{click:function(e){return t.selectItem(2)}}},[a("i",{directives:[{name:"show",rawName:"v-show",value:2==t.navIndex,expression:"navIndex == 2"}],staticClass:"iconfont icon-location"}),t._v("商品推荐 ")])]),a("i",{staticClass:"iconfont icon-More"})]),a("section",{staticClass:"product-focus"},[a("van-swipe",{staticClass:"swiper-container",attrs:{autoplay:3e3,"indicator-color":"white"}},t._l(t.sliderList,(function(t,e){return a("van-swipe-item",{key:e},[a("img",{staticClass:"swiper_img",attrs:{src:t,alt:""}})])})),1)],1),a("section",{ref:"detailInfo",staticClass:"detail-info"},[a("p",{staticClass:"detail-info-name"},[t._v(t._s(t.productDetail.name))]),a("p",{staticClass:"detail-info-subtitle"},[t._v(t._s(t.productDetail.subtitle))]),a("div",[a("span",{staticClass:"detail-info-price"},[t._v("￥"+t._s(t.productDetail.price))]),a("span",{staticClass:"detail-info-stock"},[t._v("库存 "+t._s(t.productDetail.stock)+" 件")])])]),a("section",{ref:"detailContent",staticClass:"detail-content",attrs:{id:"content"}},[a("p",{staticClass:"detail-gap"}),t._m(0),a("div",[a("p",[t._l(t.detailImgs,(function(t,e){return a("img",{key:e,attrs:{alt:"A973_01.png",src:t}})})),a("br")],2)])]),a("van-goods-action",[a("van-goods-action-icon",{attrs:{icon:"chat-o",text:"客服"},on:{click:t.onClickIcon}}),a("van-goods-action-icon",{attrs:{icon:"cart-o",text:"购物车"},on:{click:t.onClickIcon}}),a("van-goods-action-button",{attrs:{type:"warning",text:"加入购物车"},on:{click:t.onClickButton}}),a("van-goods-action-button",{attrs:{type:"danger",text:"立即购买"},on:{click:t.onClickButton}})],1),a("van-sku",{ref:"skushow",attrs:{sku:t.sku,goods:t.goods,"hide-stock":t.sku.hide_stock},on:{"buy-clicked":t.onBuyClicked,"add-cart":t.onAddCartClicked},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}})],1)},Pt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[a("li",[t._v("概述")]),a("li",[t._v("参数")]),a("li",[t._v("安装服务")]),a("li",[t._v("常见问题")])])}],Nt=(a("d81d"),a("1276"),{data:function(){return{id:this.$route.params.id,navIndex:0,productDetail:{},sliderList:[],detailImgs:[],show:!1,sku:{tree:[{k:"颜色",v:[{id:"001",name:"红色",imgUrl:"http://img.happymmall.com/570186f3-c0d2-4336-a1b7-3e1aff88f73a.jpg",previewImgUrl:"http://img.happymmall.com/570186f3-c0d2-4336-a1b7-3e1aff88f73a.jpg"},{id:"002",name:"蓝色",imgUrl:"http://img.happymmall.com/a73b6326-1204-4937-aa88-097c9eda8a2a.jpg",previewImgUrl:"http://img.happymmall.com/a73b6326-1204-4937-aa88-097c9eda8a2a.jpg"}],k_s:"s1"}],list:[{id:2259,price:100,s1:"001",stock_num:50},{id:2259,price:100,s1:"002",stock_num:50}],price:"100",stock_num:100,collection_id:2261,none_sku:!1},goods:{title:"测试商品",picture:"http://img.happymmall.com/a73b6326-1204-4937-aa88-097c9eda8a2a.jpg"}}},methods:{onClickIcon:function(){this.$toast("点击图标")},onClickButton:function(){this.$toast("点击按钮"),this.show=!0},onBuyClicked:function(){},onAddCartClicked:function(){var t=this,e=this.$refs.skushow.selectedNum,a={productId:this.id,count:e};fe(a).then((function(e){"0"==e.status&&t.$router.replace("/shopcar"),t.$toast(e.msg)}))},backPage:function(){this.$router.go(-1)},selectItem:function(t){switch(this.navIndex=t,t){case 0:window.scroll(0,0);break;case 1:var e=this.$refs.detailContent.offsetTop;window.scroll(0,e-44);break;case 2:window.scroll(0,0);break;default:window.scroll(0,0);break}},getProductDetail:function(){var t=this,e={id:this.id};ne(e).then((function(e){t.productDetail=e;var a=t.productDetail.subImages.split(",");t.sliderList=a.map((function(e){var a=t.productDetail.imageHost+e;return a}));var s=/(\/\/\S+(\.jpg|\.png|\.jpeg|\.webp))/g;t.productDetail.detail.replace(s,(function(e){t.detailImgs.push(e)}))}))}},created:function(){this.getProductDetail()},mounted:function(){}}),Bt=Nt,Dt=(a("50c3"),Object(B["a"])(Bt,Et,Pt,!1,null,"6c5c47e6",null)),Ut=Dt.exports,Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("z-header",[t._v("登陆")]),a("section",{staticClass:"page"},[a("div",{staticClass:"login-page"},[a("div",{staticClass:"login-wrap"},[a("div",{staticClass:"login-text"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"login-username",attrs:{type:"text",placeholder:"用户名/邮箱/已验证手机"},domProps:{value:t.username},on:{mouseenter:t.focusText,mouseleave:t.blurText,input:function(e){e.target.composing||(t.username=e.target.value)}}}),a("i",{directives:[{name:"show",rawName:"v-show",value:!t.usernameClose,expression:"!usernameClose"}],staticClass:"iconfont icon-close",attrs:{"data-close":"username"},on:{click:t.clearText}})]),a("div",{staticClass:"login-text"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],ref:"passwordText",staticClass:"login-password",attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:t.password},on:{mouseenter:t.focusText,mouseleave:t.blurText,input:function(e){e.target.composing||(t.password=e.target.value)}}}),a("div",[a("i",{directives:[{name:"show",rawName:"v-show",value:!t.passwordClose,expression:"!passwordClose"}],staticClass:"iconfont icon-close",attrs:{"data-close":"password"},on:{click:t.clearText}}),t.passwordType?a("i",{staticClass:"iconfont icon-eye eye",on:{click:t.changeType}}):a("i",{staticClass:"iconfont icon-eye1 eye",on:{click:t.changeType}}),a("router-link",{attrs:{tag:"span",to:"./forget-password"}},[t._v("忘记密码")])],1)])]),a("div",{staticClass:"login-error"},[t._v(t._s(t.errMsg))]),a("button",{staticClass:"login-button",class:{active:t.username.trim()&&t.password.trim()},on:{click:t.getUserLogin}},[t._v("登 录")]),a("div",{staticClass:"quick-nav"},[a("router-link",{staticClass:"register-button",attrs:{tag:"span",to:"./register"}},[t._v("快速注册")])],1),t._m(0)])])],1)},At=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"other-login"},[a("div",{staticClass:"other-head"},[a("i"),a("span",[t._v("其它登录方式")]),a("i")]),a("div",{staticClass:"other-con"},[a("div",{staticClass:"login-icon"},[a("i",{staticClass:"iconfont icon-tubiao215"}),a("span",[t._v("QQ")])]),a("div",{staticClass:"login-icon"},[a("i",{staticClass:"iconfont icon-weixin1"}),a("span",[t._v("微信")])])]),a("p",[t._v(" 登录即代表您已同意 "),a("a",[t._v("知心购隐私政策")])])])}],Gt={components:{zHeader:st},data:function(){return{username:"",password:"",errMsg:"",usernameClose:!0,passwordClose:!0,passwordType:0}},methods:{getUserLogin:function(){var t=this,e={username:this.username,password:this.password};ce(e).then((function(e){0==e.status?(localStorage.setItem("zxgToken",e.data.token),oe().then((function(e){t.$store.commit("saveUserInfo",e),localStorage.setItem("isLogin",!0),t.$router.replace("/user")})),t.$store.dispatch("getCartList")):(t.errMsg=e.msg,t.$toast(e.msg))}))},focusText:function(t){var e=t.currentTarget.className;"login-username"===e?this.usernameClose=!1:this.passwordClose=!1},blurText:function(t){var e=t.currentTarget.className;"login-username"===e?this.usernameClose=!0:this.passwordClose=!0},clearText:function(t){var e=t.currentTarget.getAttribute("data-close");this[e]=""},changeType:function(){var t=this.$refs.passwordText.getAttribute("type"),e="";e="password"===t?"text":"password",this.$refs.passwordText.setAttribute("type",e),this.passwordType=!this.passwordType}}},Ht=Gt,Wt=(a("d5ce"),Object(B["a"])(Ht,Mt,At,!1,null,"1843c7cd",null)),qt=Wt.exports,Ft=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"profile"},[s("z-header",{attrs:{showMore:!0}},[t._v("账号管理")]),s("section",{staticClass:"profile-content"},[s("div",{staticClass:"profile-item info"},[s("img",{attrs:{src:a("c121")}}),s("div",[s("span",{staticClass:"username"},[t._v(t._s(null==t.$store.state.userInfo?"":t.$store.state.userInfo.username))]),s("span",{staticClass:"email"},[t._v("邮箱："+t._s(null==t.$store.state.userInfo?"":t.$store.state.userInfo.email))])])]),s("router-link",{staticClass:"profile-item",attrs:{tag:"div",to:"/"}},[s("span",[t._v("修改登录密码")]),s("i",{staticClass:"iconfont icon-right"})]),s("router-link",{staticClass:"profile-item",attrs:{tag:"div",to:"/"}},[s("span",[t._v("修改个人信息")]),s("i",{staticClass:"iconfont icon-right"})]),s("router-link",{staticClass:"profile-item",attrs:{tag:"div",to:"/"}},[s("span",[t._v("收货地址管理")]),s("i",{staticClass:"iconfont icon-right"})])],1),s("section",{staticClass:"profile-footer"},[s("div",{staticClass:"footer-con"},[t._m(0),t._m(1),s("div",{staticClass:"logout",on:{click:t.userLogout}},[s("i",{staticClass:"iconfont icon-40one"}),s("span",[t._v("退出登录")])])]),s("p",{staticClass:"zxg"},[t._v("知心购")])])],1)},Jt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("i",{staticClass:"iconfont icon-yijian"}),a("span",[t._v("意见反馈")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"client"},[a("i",[t._v("ZXG")]),a("span",[t._v("客户端")])])}],Qt={methods:{userLogout:function(){var t=this;re().then((function(e){0==e.status?(localStorage.removeItem("zxgToken"),localStorage.removeItem("isLogin"),t.$store.commit("removeUserInfo"),t.$router.replace("/home")):t.$toast(e.msg)}))}},components:{zHeader:st}},Rt=Qt,Xt=(a("c71c"),Object(B["a"])(Rt,Ft,Jt,!1,null,"f4d40cb4",null)),Yt=Xt.exports;C["a"].use(O["a"]);var Zt=[{path:"/",redirect:"/home"},{path:"/home",component:H,meta:{index:1}},{path:"/category",component:X,meta:{index:1}},{path:"/shopcar",component:Ct,meta:{index:1,auth:!0}},{path:"/user",component:$t,meta:{index:1,auth:!0}},{path:"/product-list/:categoryId",component:zt,meta:{index:2}},{path:"/product-detail/:id",component:Ut,meta:{index:3}},{path:"/login",component:qt,meta:{index:3}},{path:"/profile",component:Yt,meta:{index:2,auth:!0}}],Kt=new O["a"]({routes:Zt});Kt.beforeEach((function(t,e,a){t.meta.auth?localStorage.getItem("isLogin")?a():a("/login"):a()}));var Vt=Kt;$.a.defaults.baseURL="http://www.lovegf.cn:9527/api",$.a.interceptors.response.use((function(t){return-2==t.data.status&&(localStorage.removeItem("zxgToken"),localStorage.removeItem("isLogin"),Vt.replace("/home")),t}),(function(t){return Promise.reject(t)}));var te=function(){return $.a.get("/home/sliders").then((function(t){if(0==t.data.status)return t.data.data;Object(r["a"])("接口错误")})).catch((function(t){Object(r["a"])("接口错误")}))},ee=function(){return $.a.get("/home/category").then((function(t){if(0==t.data.status)return t.data.data;Object(r["a"])("接口异常")})).catch((function(t){Object(r["a"])("接口异常"+t.message)}))},ae=function(){return $.a.get("/home/floorlist").then((function(t){if(0==t.data.status)return t.data.data;Object(r["a"])(t.data.msg)})).catch((function(t){Object(r["a"])("接口异常"+t.message)}))},se=function(t){return $.a.get("/product/list",{params:t}).then((function(t){if(0==t.data.status)return t.data.data;Object(r["a"])(t.data.msg)})).catch((function(t){Object(r["a"])("接口异常"+t.message)}))},ne=function(t){return $.a.get("/product/detail",{params:t}).then((function(t){if(0==t.data.status)return t.data.data;Object(r["a"])(t.data.msg)})).catch((function(t){Object(r["a"])("接口异常"+t.message)}))},ie=function(){return $.a.get("/category/data").then((function(t){if(0==t.data.status)return t.data.data;Object(r["a"])(t.data.msg)})).catch((function(t){Object(r["a"])("接口异常"+t.message)}))},ce=function(t){return $.a.post("/user/login",j.a.stringify(t)).then((function(t){return t.data})).catch((function(t){Object(r["a"])("接口异常"+t.message)}))},oe=function(){return $.a.get("/user/info",{headers:{Authorization:localStorage.getItem("zxgToken")}}).then((function(t){if(0==t.data.status)return t.data.data;Object(r["a"])(t.data.msg)})).catch((function(t){Object(r["a"])("接口异常"+t.message)}))},re=function(t){return $.a.post("/user/logout",null,{headers:{Authorization:localStorage.getItem("zxgToken")}}).then((function(t){return t.data})).catch((function(t){Object(r["a"])("接口异常"+t.message)}))},ue=function(){return $.a.get("/cart/list",{headers:{Authorization:localStorage.getItem("zxgToken")}}).then((function(t){if(0==t.data.status)return t.data.data;Object(r["a"])(t.data.msg)})).catch((function(t){Object(r["a"])("接口异常"+t.message)}))},le=function(){return $.a.get("/product/recommend",{headers:{Authorization:localStorage.getItem("zxgToken")}}).then((function(t){if(0==t.data.status)return t.data.data;Object(r["a"])(t.data.msg)})).catch((function(t){Object(r["a"])("接口异常"+t.message)}))},de=function(t){return $.a.post("/cart/del",j.a.stringify(t),{headers:{Authorization:localStorage.getItem("zxgToken")}}).then((function(t){return t.data})).catch((function(t){Object(r["a"])("接口异常"+t.message)}))},fe=function(t){return $.a.post("/cart/add",j.a.stringify(t),{headers:{Authorization:localStorage.getItem("zxgToken")}}).then((function(t){return t.data})).catch((function(t){Object(r["a"])("接口异常"+t.message)}))},pe={data:function(){return{transitionName:"fade-rigth"}},created:function(){var t=this;if(!localStorage.getItem("zxgToken"))return null;oe().then((function(e){t.$store.commit("saveUserInfo",e)})),this.$store.dispatch("getCartList")},methods:{},mounted:function(){x.a.attach(document.body)},watch:{$route:function(t,e){t.meta.index<e.meta.index?this.transitionName="fade-left":t.meta.index>e.meta.index?this.transitionName="fade-rigth":this.transitionName=""}}},me=pe,he=(a("5c0b"),Object(B["a"])(me,k,y,!1,null,null,null)),ve=he.exports,ge=(a("4160"),a("a434"),a("159b"),a("2f62"));C["a"].use(ge["a"]);var _e=new ge["a"].Store({state:{userInfo:null,cartList:[]},mutations:{saveUserInfo:function(t,e){t.userInfo=e},removeUserInfo:function(t){t.userInfo=null,t.cartList=[]},saveShopcarts:function(t,e){t.cartList=e},updateGoods:function(t,e){t.cartList.forEach((function(t){t.checked=e}))},deleteGood:function(t,e){t.cartList.forEach((function(a,s){a.id===e&&t.cartList.splice(s,1)}))},pushGoods:function(t,e){var a=!0,s=t.cartList.filter((function(t){return t.productId==e.productId&&(t.count+=e.count,a=!1),t}));a&&s.push(e),t.cartList=s}},getters:{getCartList:function(t){return t.cartList},getCounts:function(t){var e=0;return t.cartList.forEach((function(t){e+=t.count})),e},getPrices:function(t){var e=0;return t.cartList.forEach((function(t){t.checked&&(e+=t.price*t.count)})),e},getAllChecked:function(t){var e=!0;return t.cartList.forEach((function(t){t.checked||(e=!1)})),e?t.cartList.length>0&&e:e}},actions:{getCartList:function(t){ue().then((function(e){var a=e.filter((function(t){return t.checked=!1,t}));t.commit("saveShopcarts",a)}))}},modules:{}});a("499a");C["a"].use(s["a"]).use(n["a"]).use(i["a"]).use(c["a"]).use(o["a"]).use(r["a"]).use(u["a"]).use(l["a"]).use(d["a"]).use(f["a"]).use(p["a"]).use(m["a"]).use(h["a"]).use(v["a"]).use(g["a"]).use(_["a"]).use(b["a"]),C["a"].prototype.$http=$.a,C["a"].config.productionTip=!1,new C["a"]({router:Vt,store:_e,render:function(t){return t(ve)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var s=a("9c0c"),n=a.n(s);n.a},"5fe1":function(t,e,a){"use strict";var s=a("7f28"),n=a.n(s);n.a},"6c4c":function(t,e,a){},"7c00":function(t,e,a){"use strict";var s=a("5278"),n=a.n(s);n.a},"7f28":function(t,e,a){},"849a":function(t,e,a){},"9c0c":function(t,e,a){},b19e:function(t,e,a){},b51c:function(t,e,a){},bb9f:function(t,e,a){},bf6e:function(t,e,a){"use strict";var s=a("bb9f"),n=a.n(s);n.a},c121:function(t,e,a){t.exports=a.p+"img/user.c9f6417b.png"},c71c:function(t,e,a){"use strict";var s=a("6c4c"),n=a.n(s);n.a},c90c:function(t,e,a){},cb6c:function(t,e,a){"use strict";var s=a("e5a4"),n=a.n(s);n.a},d5ce:function(t,e,a){"use strict";var s=a("ffe2"),n=a.n(s);n.a},e5a4:function(t,e,a){},ffe2:function(t,e,a){}});
//# sourceMappingURL=app.8fe1b8cf.js.map